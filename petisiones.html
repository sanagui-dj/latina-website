---
layout: base.njk
title: Pedidos - Latina Live
---

<div class="card" style="max-width: 900px; margin: 0 auto;">
  <h1 class="text-center">Panel de Pedidos</h1>
  <div style="display: flex; justify-content: flex-end; margin-bottom: 1rem;">
    <button id="logoutBtn" class="btn"
      style="background: var(--bg-tertiary); border: 1px solid var(--brand-primary); padding: 0.5rem 1rem; font-size: 0.9rem;"
      aria-label="Cerrar sesión de locutor">Cerrar sesión</button>
  </div>

  <div id="contenidoProtegido" style="display: none;">
    <iframe title="Canciones actualizadas - Latina Live"
      src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTQSVZ7RGXc6bDapDtd6mVK5ovicU5wUvTtbhjkbyUWJuXGJEY5C3pfQBsPk7Bn7xefdoAjqGt9Z67M/pubhtml?widget=true&amp;headers=false"
      style="width: 100%; height: 75vh; border: none; border-radius: var(--radius-lg);">
    </iframe>
  </div>
</div>

<script type="module" src="/scripts/init.js"></script>
<script type="module">
  import {
    getAuth,
    onAuthStateChanged,
    signOut
  } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";

  const auth = getAuth();
  const contenido = document.getElementById("contenidoProtegido");
  const logoutBtn = document.getElementById("logoutBtn");

  onAuthStateChanged(auth, (user) => {
    if (user) {
      contenido.style.display = "block";
    } else {
      window.location.href = "/entrar/";
    }
  });

  logoutBtn.addEventListener("click", () => {
    signOut(auth).then(() => {
      window.location.href = "/entrar/";
    });
  });
</script>