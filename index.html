<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latina Live - tu alma, tu mÃºsica</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <aside class="player-container" id="player">
        <h1>sintonÃ­zate con nosotros!</h1>
        <p>vibra en nuestra onda...</p>
        <div class="audio-player">
            <audio id="audio" controls autoplay>
                Tu navegador no soporta el elemento de audio.
            </audio>
            <div class="track-info" id="track-info">Cargando informaciÃ³n...</div>
            <div class="controls">
                <button id="lowerVolumeBtn" aria-label="Bajar volumen">Bajar Volumen</button>
                <button id="raiseVolumeBtn" aria-label="Subir volumen">Subir Volumen</button>
            </div>
            <div class="volume-display" id="volume-display">Volumen: 20%</div>
        </div>
    </aside>
<a href="/stream.m3u">link para reproductores externos.
</a>
    <header class="welcome-section">
        <h2>Â¡Latina Live!</h2>
<img src="/logo.jpg" alt="Un micrÃ³fono encantador con una sonrisa cÃ¡lida se acomoda en una acogedora silla de oficina roja. Con grandes auriculares que parecen abrazarlo suavemente, se sumerge en un mundo de melodÃ­as. Las notas musicales flotan a su alrededor como mariposas, creando una atmÃ³sfera de serenidad y alegrÃ­a. El fondo beige aÃ±ade un toque de suavidad, haciendo que esta escena musical sea aÃºn mÃ¡s entraÃ±able y atractiva.">
        <p>Â¡Bienvenido a tu apertura auditiva!
La mÃºsica es tan antigua como el hombre y tan importante como el oxÃ­geno.
Desde que el mundo es mundo hemos usado la mÃºsica con diferentes finalidades: el placer, la motivaciÃ³n, las batallas, los rituales.
Hombre y arte se necesitan para existir, el primero paraÂ  admirarla y la segunda para ser sublimada en sus usos.
Los esclavos, en sus danzas han ocultado tÃ¡cticas para huir de sus captores, en sus peinados mapas y en sus ropas armas.
La mÃºsica es un legado, es historia, es cultura.
Por esto estamos nosotros aquÃ­, dispuestos a abrirte los oÃ­dos, a hacerte consciente de que si se viaja en cada libro, se visita en cada canciÃ³n un trozo distinto de nosotros.
Latina Live ha llegado para mostrarte tu alma, tu mÃºsica, para llevarteÂ  por los pasadizos mÃ¡s oscuros de las melodÃ­as hasta los claros mÃ¡s dulces y reverdecidos de la misma.
La pregunta no esÂ  si quieres escucharnos, la pregunta es: Â¿Quieres escucharte a ti?
</p>
    </header>

    <nav class="site-nav">
        <ul>
            <li><a href="/">Inicio</a></li>
            <li><a href="/sociales.html">Redes Sociales</a></li>
            <li><a href="/contact.html">Contacto</a></li>
            </ul>
    </nav>

    <main>
        <section class="trends-section">
            <h3>Lo que nos gusta.Â 
</h3>
            <p>Tu dÃ­a tiene la melodÃ­a perfecta. Â¿quÃ© melodÃ­a serÃ¡ tu dÃ­a hoy? </p>
            <a href="/trends-suggestions.html">descÃºbrelo aquÃ­ğŸ”Š</a>
            <br>
<h3> pide tu canciÃ³n!
</h3>
<iframe src="https://ahmrs.net/public/latina/embed-requests" frameborder="0" allowtransparency="true" style="width: 100%; min-height: 850px; border: 0;"></iframe>
<h3> Â¡SueÃ±a con nosotros!ğŸ“»
</h3>
<p> Â¿Te gusta nuestra sintonÃ­a? Ven con nosotros, el cielo solo es una parada; los sueÃ±os no tienen precio. </p>
<a href="http://paypal.me/sanaguidj"> â˜ Â¡Pon tu peldaÃ±o nubal aquÃ­! ğŸŒ  </a>
        </section>
    </main>
    <footer class="site-footer">
        <p>&copy; 2025 Latina Live</p>
    </footer>

    <script src="https://kit.fontawesome.com/your_fontawesome_kit.js" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('audio');
            const trackInfo = document.getElementById('track-info');
            const volumeDisplay = document.getElementById('volume-display');
            const lowerVolumeBtn = document.getElementById('lowerVolumeBtn');
            const raiseVolumeBtn = document.getElementById('raiseVolumeBtn');

            if (audio) {
                const streamUrl = "https://ahmrs.net/listen/latina/live";
                audio.src = streamUrl;
                audio.volume = 0.2; // Volumen inicial al 20%

                function updateVolumeDisplay() {
                    if (volumeDisplay) {
                        volumeDisplay.textContent = `Volumen: ${Math.round(audio.volume * 100)}%`;
                    }
                }

                // Definir las funciones globalmente o asignar directamente a los eventos
                // Es mejor asignar los event listeners en JavaScript para mantener el HTML limpio
                lowerVolumeBtn.addEventListener('click', function() {
                    audio.volume = Math.max(0, audio.volume - 0.1);
                    updateVolumeDisplay();
                });

                raiseVolumeBtn.addEventListener('click', function() {
                    audio.volume = Math.min(1, audio.volume + 0.1);
                    updateVolumeDisplay();
                });

                async function fetchMetadata() {
                    if (trackInfo) {
                        try {
                            const response = await fetch('https://ahmrs.net/api/nowplaying/1', {
                                headers: {
                                    'Content-Type': 'application/json; charset=utf-8'
                                }
                            });
                            // Verificar si la respuesta es exitosa
                            if (!response.ok) {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                            const data = await response.json();

                            const songTitle = data.now_playing.song.title || "Sin informaciÃ³n";
                            const songArtist = data.now_playing.song.artist || "Desconocido";

                            trackInfo.textContent = `Escuchando: ${songArtist} - ${songTitle}`;
                        } catch (error) {
                            trackInfo.textContent = "No se pudo obtener la informaciÃ³n de la canciÃ³n";
                            console.error("Error al obtener los metadatos:", error);
                        }
                    }
                }

                // Actualizar el volumen inicial y luego en cada cambio
                updateVolumeDisplay();

                // Intentar cargar la pista y luego empezar a obtener metadatos
                audio.load(); // Carga la fuente de audio para que `autoplay` pueda funcionar
                audio.play().catch(e => console.error("Error al intentar reproducir audio automÃ¡ticamente:", e));

                // Obtener metadatos inicialmente y luego cada 15 segundos
                fetchMetadata();
                setInterval(fetchMetadata, 15000);

            } else {
                console.error("Error: El elemento de audio con ID 'audio' no se encontrÃ³.");
            }
        });
    </script>
</body>
</html>